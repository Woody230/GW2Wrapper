paths:
  /dungeons:
    get:
      tags: [ getIds ]
      operationId: getDungeonIds
      externalDocs:
        url: https://wiki.guildwars2.com/wiki/API:2/dungeons
      responses:
        "200":
          description: This resource returns details about each dungeon and it's associated paths.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DungeonId"
              example: '["ascalonian_catacombs","caudecus_manor","twilight_arbor","sorrows_embrace","citadel_of_flame","honor_of_the_waves","crucible_of_eternity","ruined_city_of_arah"]'
  /dungeons?ids={ids}:
    get:
      tags: [ getByIds ]
      operationId: getDungeonsByIds
      externalDocs:
        url: https://wiki.guildwars2.com/wiki/API:2/dungeons
      parameters:
        - name: ids
          in: path
          required: true
          schema:
            type: array
            items:
              $ref: "#/components/schemas/DungeonId"
      responses:
        "200":
          description: This resource returns details about each dungeon and it's associated paths.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Dungeon"
              example: '[{"id":"ascalonian_catacombs","paths":[{"id":"ac_story","type":"Story"},{"id":"hodgins","type":"Explorable"},{"id":"detha","type":"Explorable"},{"id":"tzark","type":"Explorable"}]},{"id":"caudecus_manor","paths":[{"id":"cm_story","type":"Story"},{"id":"asura","type":"Explorable"},{"id":"seraph","type":"Explorable"},{"id":"butler","type":"Explorable"}]}]'
  /dungeons?ids=all:
    get:
      tags: [ getByAllIds ]
      operationId: getDungeonsByAllIds
      externalDocs:
        url: https://wiki.guildwars2.com/wiki/API:2/dungeons
      responses:
        "200":
          description: This resource returns details about each dungeon and it's associated paths.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Dungeon"
              example: '[{"id":"ascalonian_catacombs","paths":[{"id":"ac_story","type":"Story"},{"id":"hodgins","type":"Explorable"},{"id":"detha","type":"Explorable"},{"id":"tzark","type":"Explorable"}]},{"id":"caudecus_manor","paths":[{"id":"cm_story","type":"Story"},{"id":"asura","type":"Explorable"},{"id":"seraph","type":"Explorable"},{"id":"butler","type":"Explorable"}]}]'
  /dungeons?page={page}:
    get:
      tags: [ getByPage ]
      operationId: getDungeonsByPage
      externalDocs:
        url: https://wiki.guildwars2.com/wiki/API:2/dungeons
      parameters:
        - $ref: "#/components/parameters/Page"
        - $ref: "#/components/parameters/PageSize"
      responses:
        "200":
          description: This resource returns details about each dungeon and it's associated paths.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Dungeon"
              example: '[{"id":"ascalonian_catacombs","paths":[{"id":"ac_story","type":"Story"},{"id":"hodgins","type":"Explorable"},{"id":"detha","type":"Explorable"},{"id":"tzark","type":"Explorable"}]},{"id":"caudecus_manor","paths":[{"id":"cm_story","type":"Story"},{"id":"asura","type":"Explorable"},{"id":"seraph","type":"Explorable"},{"id":"butler","type":"Explorable"}]}]'
  /dungeons/{id}:
    get:
      tags: [ getById ]
      operationId: getDungeonById
      externalDocs:
        url: https://wiki.guildwars2.com/wiki/API:2/dungeons
      parameters:
        - name: id
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/DungeonId"
      responses:
        "200":
          description: This resource returns details about each dungeon and it's associated paths.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Dungeon"
              example: '{"id":"ascalonian_catacombs","paths":[{"id":"ac_story","type":"Story"},{"id":"hodgins","type":"Explorable"},{"id":"detha","type":"Explorable"},{"id":"tzark","type":"Explorable"}]}'

components:
  schemas:
    DungeonId:
      type: string
      x-ktx-identifier: true

    Dungeon:
      type: object
      required: [ id,paths ]
      x-ktx-identifiable:
        id: id
      properties:
        id:
          $ref: "#/components/schemas/DungeonId"
        paths:
          type: array
          items:
            $ref: "#/components/schemas/DungeonPath"

    DungeonPathId:
      type: string
      x-ktx-identifier: true

    DungeonPath:
      type: object
      required: [ id,type ]
      x-ktx-identifiable:
        id: id
      properties:
        id:
          $ref: "#/components/schemas/DungeonPathId"
        type:
          $ref: "#/components/schemas/DungeonPathType"